# ç€‘å¸ƒæµå¸ƒå±€

è®¸å¤šç½‘ç«™é‡‡ç”¨ç€‘å¸ƒæµå¸ƒå±€çš„å½¢å¼å¯¹ items è¿›è¡Œæ’ç‰ˆï¼Œçœ‹ä¸Šå»å¾ˆæœ‰ç¾æ„Ÿã€‚å®ƒçœ‹ä¸Šå»åƒæ˜¯ä¸è§„åˆ™çš„ç½‘æ ¼å¸ƒå±€ã€‚

<a data-fancybox title="" href="http://picstore.lliiooiill.cn/pintrest.jpg">![](http://picstore.lliiooiill.cn/pintrest.jpg)</a>

ç€‘å¸ƒæµå¸ƒå±€çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š

- æ¯åˆ—å…ƒç´ å®½åº¦å›ºå®šï¼Œé«˜åº¦ä¸å®šã€‚
- ä¸‹é¢çš„å…ƒç´ ä¼šä»…æ¥ç€ä¸Šé¢çš„å…ƒç´ æ”¾ç½®ï¼Œä¸ä¼šç•™ä¸‹ç¼éš™ã€‚

## ç®€å•å®ç°

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç®€å•çš„ CSS å®ç°ç€‘å¸ƒæµå¸ƒå±€ï¼š

:::: tabs
::: tab HTML

```html
<article>
  <section>
    <p>1.Lorem ipsum dolor sit amet, consectetur.</p>
  </section>
  <section>
    <p>
      2.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Error aliquid reprehenderit expedita odio beatae est.
    </p>
  </section>
  <section>
    <p>3.Lorem ipsum dolor sit amet, consectetur.</p>
  </section>
  <section>
    <p>4.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nobis quaerat suscipit ad.</p>
  </section>
  <section>
    <p>
      5.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rem nihil alias amet dolores fuga totam sequi a
      cupiditate ipsa voluptas id facilis nobis.
    </p>
  </section>
  <section>
    <p>
      6.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rem ut debitis dolorum earum expedita eveniet
      voluptatem quibusdam facere eos numquam commodi ad iusto laboriosam rerum aliquam.
    </p>
  </section>
  <section>
    <p>7.Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
  </section>
  <section>
    <p>
      8.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quaerat architecto quis tenetur fugiat veniam iste
      molestiae fuga labore!
    </p>
  </section>
  <section>
    <p>
      9.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit accusamus tempore at porro officia rerum est
      impedit ea ipsa tenetur. Labore libero hic error sunt laborum expedita.
    </p>
  </section>
  <section>
    <p>10.Lorem ipsum dolor sit.</p>
  </section>
  <section>
    <p>
      11.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima asperiores eveniet vero velit eligendi aliquid
      in.
    </p>
  </section>
  <section>
    <p>12.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus dolorem maxime minima animi cum.</p>
  </section>
</article>
```

:::
::: tab CSS

```css {2-3,8}
article {
  column-width: 200px;
  column-gap: 15px;
}

section {
  box-sizing: border-box;
  display: inline-block;
  margin-top: 15px;
  padding: 15px;
  width: 100%;
  border: 1px solid black;
}
```

:::
::: tab æ•ˆæœ
<a data-fancybox title="" href="http://picstore.lliiooiill.cn/1625974582%281%29.jpg">![](http://picstore.lliiooiill.cn/1625974582%281%29.jpg)</a>
:::
::::

å°±å¦‚ä¸Šé¢çš„ CSS æ‰€å±•ç¤ºçš„é‚£æ ·ï¼Œä½¿ç”¨ **`column-width`** å’Œ **`column-gap`** é…åˆ **`inline-block`** å…ƒç´ å°±å¯ä»¥ç”Ÿæˆç€‘å¸ƒæµå¸ƒå±€ã€‚

:::tip Notice
**`column-width`** æ§åˆ¶åˆ—å®½ï¼Œå®¹å™¨å°†å®¹çº³å°½å¯èƒ½å¤šçš„åˆ—æ•°ä½†ä¸ä¼šè®©ä»»ä½•ä¸€ä¸ªå…ƒç´ å®½åº¦å°äºåˆ—å®½ã€‚

**`column-gap`** æ§åˆ¶æ¯åˆ—çš„é—´éš™ã€‚
:::

åœ¨ FireFox ä¸Šï¼Œä½ å¯ä»¥ä½¿ç”¨ `grid` åˆ›é€ ç€‘å¸ƒæµï¼š

```css
.container {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: masonry;
}
```

`grid-template-rows: masonry` æ˜¯ä¸ªä¸é”™çš„è®¾æƒ³ï¼Œä½†æˆªè‡³æ–‡ç« å‘å¸ƒä¹‹å‰ï¼Œ**è¯¥ç‰¹æ€§å¹¶ä¸è¢«é™¤ FireFox ä¹‹å¤–çš„å…¶ä»–æµè§ˆå™¨æ”¯æŒ**ã€‚

æˆ‘ä»¬å†æ¥çœ‹çœ‹ä¸Šé¢ä»£ç å®ç°çš„æ•ˆæœï¼š

<a data-fancybox title="" href="http://picstore.lliiooiill.cn/1625974582%281%29.jpg">![](http://picstore.lliiooiill.cn/1625974582%281%29.jpg)</a>

å¯ä»¥å‘ç°å…ƒç´ çš„é¡ºåºå¹¶æ²¡æœ‰æŒ‰ç…§ä»å·¦åˆ°å³æ¨ªå‘æ’åˆ—ï¼Œè€Œæ˜¯æŒ‰ç…§çºµå‘æ’åˆ—çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬äºŒä¸ªå…ƒç´ æ’åœ¨äº†ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹é¢è€Œä¸æ˜¯å³è¾¹ã€‚å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ

æˆ‘ä»¬éœ€è¦ä½¿ç”¨ **`nth-child`** é‡æ–°æ’åˆ—å…ƒç´ ã€‚

## ä½¿ç”¨ `nth-child` é‡æ–°æ’åˆ—å…ƒç´ 

å‡è®¾æˆ‘ä»¬éœ€è¦æ¸²æŸ“ä¸€ä¸ªä¸‰åˆ—çš„ç€‘å¸ƒæµï¼Œé‚£ä¹ˆç¬¬ä¸€åˆ—å…ƒç´ çš„åº”è¯¥æ˜¯åºå·ä¸º 1ï¼Œ4ï¼Œ7ï¼Œ9...çš„å…ƒç´ ï¼Œä»–ä»¬éƒ½æ»¡è¶³ä¸€ä¸ªæ¡ä»¶ï¼Œå°±æ˜¯åºå·ä¸º `3*(è¡Œæ•°-1)+1`ã€‚åŒç†ï¼Œç¬¬äºŒè¡Œä¸º `3*(è¡Œæ•°-1)+2`ï¼Œç¬¬ä¸‰è¡Œä¸º `3*(è¡Œæ•°-1)+3`ã€‚

```css
section:nth-child(3n + 1) {
  order: 1;
}
section:nth-child(3n + 2) {
  order: 2;
}
section:nth-child(3n + 3) {
  order: 3;
}
```

:::tip Notice
**`order`** å±æ€§ç”¨äºåœ¨ `flex` æˆ– `grid` ä¸­å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚
:::

ç„¶åæˆ‘ä»¬å°†å®¹å™¨è®¾ç½®æˆ `flex` å¸ƒå±€ï¼Œè®¾ç½®ä¸ºçºµå‘æ’åˆ—å¹¶ä¸”å¯æ¢åˆ—ï¼š

```css {2-3}
article {
  display: flex;
  flex-flow: column wrap;
  align-content: space-between;
  height: 600px;
  column-gap: 7.5px;
}
```

å­å…ƒç´ è®¾ç½®ä¸€ä¸‹å®½åº¦å’Œé—´è·ï¼š

```css
section {
  width: calc(100% / 3);
  margin-bottom: 15px;
  border: 1px solid black;
}
```

æ•ˆæœå¦‚ä¸‹ï¼š

<a data-fancybox title="" href="http://picstore.lliiooiill.cn/1625980997%281%29.jpg">![](http://picstore.lliiooiill.cn/1625980997%281%29.jpg)</a>

ä¼¼ä¹æ•ˆæœä¸æ˜¯é¢„æƒ³çš„é‚£æ ·ï¼Œç”±äºæˆ‘ä»¬è®¾ç½®å®¹å™¨é«˜åº¦ä¸º `600px` çš„åŸå› ï¼Œå½“ç¬¬ä¸€è¡Œæœ‰å……è¶³çš„ç©ºé—´æ—¶ï¼Œç¬¬äºŒè¡Œå’Œç¬¬ä¸‰è¡Œçš„å…ƒç´ ä¹Ÿåˆå¹¶åˆ°å‰ä¸€è¡Œæ¥å ä½ç½®äº†ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ªå…ƒç´ æ¥åˆ†å‰²è¿™ä¸‰åˆ—è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

```css {4,6}
article::before,
article::after {
  content: '';
  flex-basis: 100%;
  width: 0;
  order: 2;
}
```

æˆ‘ä»¬å°†ä¼ªå…ƒç´ çš„ `order` è®¾ç½®ä¸º 2ï¼Œé‚£ä¹ˆ `::before` ä¼šåˆ†å‰²ç¬¬ä¸€å’Œç¬¬äºŒè¡Œï¼Œè€Œ `::after` ä¼šåˆ†å‰²ç¬¬äºŒå’Œç¬¬ä¸‰è¡Œï¼Œæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªä¼ªå…ƒç´ é«˜äº®å‡ºæ¥çœ‹ä¸€ä¸‹ï¼š

<a data-fancybox title="" href="http://picstore.lliiooiill.cn/1625981792%281%29.jpg">![](http://picstore.lliiooiill.cn/1625981792%281%29.jpg)</a>

è¿™æ ·æˆ‘ä»¬å°±ç”¨çº¯ CSS å®ç°äº†ä¸€ä¸ªæ­£å¸¸é¡ºåºçš„ç€‘å¸ƒæµäº†ã€‚

æˆ‘ä»¬å¯ä»¥çœ‹å‡ºè¿™ä¸ªæ–¹æ³•æœ‰ä¸€äº›æ˜æ˜¾çš„ç¼ºç‚¹ï¼š

- å®¹å™¨å¿…é¡»æ˜ç¡®è®¾ç½®è¶³å¤Ÿå¤§çš„é«˜åº¦ï¼Œå¦‚æœæ¸²æŸ“æ— é™åˆ·æ–°åˆ—è¡¨çš„è¯ï¼Œè¯¥æ–¹æ³•ä¼šå¤±æ•ˆã€‚
- åˆ—æ•°ä¸èƒ½åŠ¨æ€æ”¹å˜ã€‚
- ä¸¤ä¸ªä¼ªå…ƒç´ åˆ†å‰²çš„ç­–ç•¥åœ¨ä¸‰åˆ—ä»¥ä¸Šçš„ç€‘å¸ƒæµä¸­ä¸é€‚ç”¨ã€‚

## æ€»ç»“

åŸºäºä»¥ä¸Šçš„è®¨è®ºï¼Œå¦‚æœæˆ‘ä»¬åŠæƒ³è¦å“åº”å¼æ¸²æŸ“ï¼Œè¿˜æƒ³è¦æ­£ç¡®çš„æ˜¾ç¤ºé¡ºåºï¼Œé‚£è¿˜æ˜¯è‡ªå·±æ‰¾ä¸ªç¬¬ä¸‰æ–¹åº“æ¥å®ç°å§ ğŸ˜‚ã€‚

## å‚è€ƒæ–‡ç« 

- [Native CSS Masonry Layout In CSS Grid](https://www.smashingmagazine.com/native-css-masonry-layout-css-grid/)
- [CSS masonry with flexbox, :nth-child(), and order](https://tobiasahlin.com/blog/masonry-with-css/)
